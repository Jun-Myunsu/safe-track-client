# Safe Track - 요구사항 명세서 (SRS)

## 1. 시스템 개요

### 1.1 시스템 목적
실시간 위치 공유를 통한 개인 안전 보장 웹 애플리케이션

### 1.2 시스템 범위
- 웹 기반 실시간 위치 추적 및 공유 시스템
- 사용자 간 위치 공유 요청/수락 시스템
- 실시간 채팅 기능
- 반응형 웹 인터페이스

## 2. 기능 요구사항

### 2.1 사용자 인증 (F001)
**F001-1 회원가입**
- 사용자는 고유한 ID와 비밀번호로 회원가입할 수 있다
- ID 중복 검사를 실시간으로 수행한다
- 비밀번호는 암호화하여 저장한다

**F001-2 로그인**
- 등록된 ID/비밀번호로 로그인할 수 있다
- 로그인 정보를 localStorage에 저장하여 자동 로그인을 지원한다
- 로그인 실패 시 적절한 오류 메시지를 표시한다

**F001-3 로그아웃**
- 사용자는 언제든지 로그아웃할 수 있다
- 로그아웃 시 모든 위치 추적 및 공유를 중지한다

### 2.2 위치 추적 (F002)
**F002-1 실제 GPS 추적**
- 사용자의 실시간 GPS 위치를 추적한다
- 위치 권한 요청 및 거부 처리를 수행한다
- 2초 간격으로 위치를 업데이트한다

**F002-2 가상 이동 테스트**
- 광주 시청에서 상무역까지의 가상 이동을 시뮬레이션한다
- 실제 보행 속도(5km/h)로 이동을 시뮬레이션한다
- 테스트 완료 시 자동으로 추적을 중지한다

**F002-3 위치 추적 제어**
- 사용자는 위치 추적을 시작/중지할 수 있다
- 위치 공유 중지 시 자동으로 위치 추적도 중지된다

### 2.3 위치 공유 시스템 (F003)
**F003-1 공유 요청**
- 온라인 사용자에게 위치 공유를 요청할 수 있다
- 요청 전송 시 상대방에게 실시간 알림이 전송된다

**F003-2 요청 처리**
- 수신자는 위치 공유 요청을 수락/거부할 수 있다
- 수락 시 요청자의 위치 추적이 자동으로 시작된다
- 수락 시 수신자의 위치 추적 컴포넌트가 숨겨진다

**F003-3 위치 공유 중지**
- 요청자는 언제든지 위치 공유를 중지할 수 있다
- 수신자는 언제든지 위치 수신을 중지할 수 있다
- 공유 중지 시 양방향으로 모든 공유 관계가 해제된다

### 2.4 지도 표시 (F004)
**F004-1 실시간 위치 표시**
- Leaflet 지도에 사용자 위치를 실시간으로 표시한다
- 공유받은 사용자의 위치를 지도 중앙에 표시한다
- 사용자별로 다른 색상의 마커를 사용한다

**F004-2 이동 경로 표시**
- 사용자의 이동 경로를 선으로 연결하여 표시한다
- 최근 50개의 위치 점을 저장하여 경로를 그린다

### 2.5 실시간 채팅 (F005)
**F005-1 메시지 전송**
- 위치 공유 중인 사용자와 실시간 채팅이 가능하다
- 메시지는 즉시 상대방에게 전달된다

**F005-2 채팅 기록**
- 채팅 메시지는 세션 동안 유지된다
- 위치 공유 중지 시 채팅 기록이 초기화된다

### 2.6 사용자 인터페이스 (F006)
**F006-1 반응형 디자인**
- 모바일과 데스크톱에서 최적화된 레이아웃을 제공한다
- 모바일에서는 로그인 → 지도+채팅 → 기타 순서로 배치된다

**F006-2 컴포넌트 토글**
- 사용자 목록은 토글 버튼으로 접을 수 있다
- 로그인 후 프로필은 작은 버튼으로 축소된다

## 3. 비기능 요구사항

### 3.1 성능 요구사항 (NF001)
- 위치 업데이트 지연시간: 3초 이내
- 메시지 전송 지연시간: 1초 이내
- 페이지 로딩 시간: 5초 이내

### 3.2 보안 요구사항 (NF002)
- 비밀번호는 bcrypt로 암호화하여 저장
- 위치 정보는 허가된 사용자에게만 공유
- 세션 관리를 통한 인증 상태 유지

### 3.3 사용성 요구사항 (NF003)
- 직관적인 UI/UX 제공
- 3번의 클릭 이내로 주요 기능 접근 가능
- 모바일 터치 인터페이스 최적화

### 3.4 호환성 요구사항 (NF004)
- Chrome, Safari, Firefox 최신 버전 지원
- iOS Safari, Android Chrome 지원
- 반응형 웹 디자인으로 다양한 화면 크기 지원

## 4. 시스템 아키텍처

### 4.1 클라이언트-서버 구조
- **클라이언트**: React + Vite 기반 SPA
- **서버**: Node.js + Express + Socket.IO
- **통신**: WebSocket 기반 실시간 양방향 통신

### 4.2 데이터 저장
- **사용자 정보**: JSON 파일 기반 저장
- **세션 데이터**: 메모리 기반 임시 저장
- **클라이언트 상태**: localStorage 활용

## 5. 인터페이스 요구사항

### 5.1 사용자 인터페이스
- 다크 테마 기반 디자인
- 모바일 우선 반응형 레이아웃
- 터치 친화적 버튼 크기 (최소 44px)

### 5.2 API 인터페이스
- Socket.IO 이벤트 기반 통신
- RESTful API 패턴 준수
- JSON 형태의 데이터 교환

## 6. 제약사항

### 6.1 기술적 제약사항
- 웹 브라우저의 Geolocation API 의존
- WebSocket 연결 필요
- HTTPS 환경에서만 위치 서비스 사용 가능

### 6.2 운영 제약사항
- 동시 접속자 수: 100명 이하
- 데이터 저장 용량: 1GB 이하
- 서버 가동 시간: 99% 이상

## 7. 테스트 요구사항

### 7.1 기능 테스트
- 모든 주요 기능의 정상 동작 확인
- 오류 상황에 대한 적절한 처리 확인

### 7.2 성능 테스트
- 동시 사용자 부하 테스트
- 위치 업데이트 지연시간 측정

### 7.3 호환성 테스트
- 다양한 브라우저에서의 동작 확인
- 모바일 디바이스에서의 사용성 확인